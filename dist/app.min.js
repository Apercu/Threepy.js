global.BABYLON=BABYLON;var net=require("net"),gui=require("nw.gui"),win=gui.Window.get();win.title="Zabylon";var client=new net.Socket;client.on("data",function(data){var res=data.toString().split("\n");console.log(res)}),process.on("uncaughtException",function(e){console.log(e)}),angular.module("zabylonApp",[]).controller("zabylonCtrl",function($scope,$timeout){$scope.ui={connected:!1,connectHost:"127.0.0.1",connectPort:4040},$scope.connect=function(){client.connect($scope.ui.connectPort,$scope.ui.connectHost,function(){client.write("GRAPHIC\n")}),$scope.ui.connected=!0,$timeout(function(){{var canvas=document.querySelector("canvas"),engine=new BABYLON.Engine(canvas,!0),scene=new BABYLON.Scene(engine);new BABYLON.ArcRotateCamera("Camera",1,.8,10,new BABYLON.Vector3(0,0,0),scene),new BABYLON.PointLight("Omni",new BABYLON.Vector3(0,0,10),scene),BABYLON.Mesh.CreateSphere("origin",10,1,scene)}scene.activeCamera.attachControl(canvas),engine.runRenderLoop(function(){scene.render()})})},$scope.minimize=function(){win.minimize()},$scope.toggleFull=function(){win.toggleFullscreen()},$scope.quit=function(){gui.App.quit()}});